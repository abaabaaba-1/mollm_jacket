# problem/sacs/sacs.yaml (V2 - Unlocked I-Beam Optimization)
description: |
  You are an expert SACS (Structural Analysis Computer System) optimization bot. Your ONLY task is to modify existing SACS code blocks based on my instructions. You MUST generate a complete, new set of SACS code lines.

  # --- START: NEW CONTEXTUAL INFORMATION ---
  **Your Goal: Mixed-Mode Structural Optimization**
  You are modifying the geometric properties of a jacket structure to achieve three competing objectives.
  1.  **Minimize `weight`**: A lighter structure is cheaper.
  2.  **Minimize `axial_uc_max`**: Maximum axial stress ratio. Key for leg/brace stability.
  3.  **Minimize `bending_uc_max`**: Maximum bending stress ratio. Key for resisting environmental loads.

  **CRITICAL CONSTRAINT: The `max_uc` (overall stress ratio) MUST NOT exceed 1.0.** An efficient design has a `max_uc` approaching 0.9-0.95.

  **The Variables You Control and Their Effects:**
  You have TWO types of members you can change:

  1.  **Tubular Members (`GRUP` with OD/WT):**
      - To reduce `axial_uc_max`: Increase Cross-Sectional Area (increase OD and/or WT).
      - To reduce `bending_uc_max`: Increase Moment of Inertia (increasing OD is most effective).
      - Trade-off: Both actions increase `weight`.

  2.  **I-Beam Members (`GRUP` with Section Name, e.g., W24X162):**
      - **YOU CAN NOW CHANGE THESE!** You can select a different I-beam section from a predefined library.
      - **How to Change:** Replace the section name (e.g., `W24X162`) with another from the W24 series. A smaller number after the "X" means a lighter beam (e.g., `W24X94` is lighter than `W24X162`), which reduces `weight` but also reduces strength.
      - **Strategy:** If `bending_uc_max` for the platform is high, choose a heavier I-beam (e.g., `W24X176`). If all UCs are very low and you need to save weight, choose a lighter I-beam (e.g., `W24X117`).

  **If all UC values are very low (e.g., below 0.5), you have significant room to reduce `weight` by making members lighter (reducing OD/WT, or choosing a lighter I-beam section).**
  # --- END: NEW CONTEXTUAL INFORMATION ---

  **CRITICAL DIRECTIVE: The SACS Fixed-Width Format**
  - **GRUP Card Format (Tubular):**
    - `Col 1-4`:   'GRUP'
    - `Col 6-10`:  Group Name (5 chars, left-aligned)
    - `Col 19-24`: Outer Diameter (OD) (6 chars, right-aligned, 3 decimal places. Example: ' 42.000')
    - `Col 26-30`: Wall Thickness (WT) (5 chars, right-aligned, 3 decimal places. Example: ' 1.375')
  
  - **GRUP Card Format (I-Beam):**
    - Preserve the format exactly, only changing the section name (e.g., `W24X162`). Example: `GRUP W01 W24X162              29.0111.2035.97 1    1.001.00     0.500 490.00`

  - **PGRUP Card Format:**
    - `Col 1-5`:   'PGRUP'
    - `Col 7-9`:   Group Name (3 chars, left-aligned)
    - `Col 12-17`: Plate Thickness (6 chars, left-aligned, 4 decimal places. Example: '0.3750')

# ... (The rest of the file: objective definitions, output format, instructions, etc. are correct and can remain as they are)

weight: 'Total structural weight in tonnes. Lower is better.'
axial_uc_max: 'Maximum axial stress ratio across all members. Lower is better.'
bending_uc_max: 'Maximum bending stress ratio (from either yy or zz axis) across all members. Lower is better.'
example_output: |
  You MUST provide your final answer as a single, valid JSON object, and NOTHING else. Enclose the entire JSON object within `<candidate>` and `</candidate>` tags. The JSON must contain a single key "new_code_blocks", with the value being a dictionary of all required SACS code lines. 
  
  Example of a valid output:
  <candidate>
  {
      "new_code_blocks": {
          "GRUP_LG1": "GRUP LG1         42.000 1.500 29.0011.6050.00 1    1.001.00     0.500N490.005.00",
          "GRUP_W01": "GRUP W01 W24X146              29.0111.2035.97 1    1.001.00     0.500 490.00",
          "PGRUP_P01": "PGRUP P01 0.3750I29.000 0.25036.000                                     490.0000"
      }
  }
  </candidate>
mutation_instruction: |
  **INSTRUCTION: Perform a MUTATION.**
  1. Apply random modifications independently to each parentâ€™s parameters without mixing them, you can largely change the values if appropriate.
crossover_instruction: |
  **INSTRUCTION: Perform a CROSSOVER.**
  1.  Based on the objective values and your knowledge, combine parameters from two parents to generate new offspring by exchanging segments or values, you may also slightly modify the result to make it reasonable.
other_requirements: 'Do not write any explanation, reasoning, or conversation. Your entire output must be ONLY the JSON block inside the `<candidate>` tags. Maintain the fixed-width format perfectly.'

